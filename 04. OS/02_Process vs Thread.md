## Process
- 실행 중인 프로그램
- 디스크로부터 메모리에 적재되어 CPU의 할당을 받을 수 있는 것

<br>

#### 프로세스의 구성(주소 공간 할당)

- Code
> 코드 자체를 구성하는 메모리 영역
- Data
> 전역변수, 정적변수, 배열 등
- Stack
> 지역변수, 함수의 매개변수, 리턴 값 등(임시 메모리 영역)
- Heap
> 동적 메모리 할당 시 사용
<br>

### PCB (Process Control Block)
- 특정 프로세스에 대한 정보를 저장하고 있는 운영체제의 자료구조
- 운영체제는 프로세스 관리를 위해 프로세스 생성과 동시에 고유한 PCB 생성
- 프로세스 전환이 발생하면 작업 진행 상황을 PCB에 저장 -> 다시 CPU를 점유 시 해당 내용을 불러와 종료 시점부터 작업 수행

<br>

**PCB에 저장되는 정보**

- 프로세스 식별자 (PID)
- 프로세스 상태 (ready, running, waiting, terminated 등)
- 프로그램 카운터 (다음에 실행할 명령어의 주소)
- CPU 레지스터
- CPU 스케줄링 정보 (프로세스 우선순위, 스케줄 큐에 대한 포인터 등)
- 메모리 관리 정보
- 입출력 상태 정보
- 어카운팅 정보 (사용된 CPU 시간, 시간제한 등)

<br>

---

<br>

## Thread
- 프로세스의 실행 단위
- 프로세스 내의 주소 공간이나 자원 공유 가능

<br>

* 하나의 프로세스가 생성될 때 기본으로 하나의 스레드가 함께 생성됨 

#### 스레드의 구성

- 스레드 ID
- 프로그램 카운터
> 스레드는 CPU를 할당 받았다가 스케줄러에 의해 다시 선점당하기 때문에 명령어가 어디까지 수행됐는지 기억할 필요가 있음
- 레지스터 집합
- 스택(Stack)
> 독립적인 샐행 흐름을 추가하기 위한 조건으로 독립된 스택 할당


<br>

---

<br>


## Process vs Thread

<br>

| 프로세스 | 스레드 |
| --- | --- |
| 프로그램을 메모리 상에서 실행중인 작업 | 프로세스 안에서 실행되는 여러 흐름 단위 |
| 자신만의 고유 공간과 자원을 할당받아 사용 | 스택만 독립적으로 할당 받고 나머지는 다른 스레드와 공유하며 사용 |

<br>

<image src="https://user-images.githubusercontent.com/66426083/160802136-ab00df65-1933-48b3-ac9b-b0a90649aea8.png" />



<br>

---

<br>


## 멀티 프로세스
- 하나의 컴퓨터에 여러 CPU를 장학해 여러 프로세스를 동시에 처리하는 것

<br>

- 장점: 안전성 (하나의 프로세스가 죽어도 다른 프로세스에 영향을 미치지 않음, 메모리 침범X)
- 단점: 많은 메모리 공간과 CPU 시간 필요, 문맥교환 시 캐시 매모리 초기화로 인한 성능 저하

<br>

**문맥교환 (Context Switching)**
> 프로세스/스레드의 상태 정보를 저장하고 복원하는 일련의 과정
<br>

## 멀티 스레드
- 하나의 프로세스를 여러 스레드로 구성해 수행하는 것

<br>

- 장점: 프로세스에 비해 빠른 문맥교환, 공유 메모리로 자원 소모 감소 (Throughput 향상, 응답 시간 단축)
- 단점: 공유 메모리로 인한 안전성 문제
  - 한 스레드에 문제 발생 시 모든 스레드에 영향을 줌
  - 변경 중인 값을 읽으려고 하는 문제 -> 동기화 작업 필요 but 과도한 동기화는 병목현상 야기(성능저하)

<br>
<br>
<br>

참고 https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/OS#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98-%EC%B0%A8%EC%9D%B4 / https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Process%20vs%20Thread.md
